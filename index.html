<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GGCloud VPN Setup</title>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Конфигурация
            const CONFIG = {
                subscription: {
                    url: "https://bot.ggcloud.ru/connection",
                    scheme: "happ://add/",
                    key: "https://ee.ggcloud.ru:443/user/03f825fa-0af4-4f28-beeb-c7c8b8655932"
                },
                routing: {
                    url: "https://routing.vpn.ru.com",
                    type: "happ"
                }
            };

            // Генерация deep link
            function generateConfigLink() {
                const fullConfig = {
                    timestamp: Date.now(),
                    subscription: CONFIG.subscription,
                    routing: CONFIG.routing
                };
                
                return `happ://apply-config/${encodeURIComponent(JSON.stringify(fullConfig))}`;
            }

            // Основной процесс
            function setupVPN() {
                const deepLink = generateConfigLink();
                
                // Попытка открыть в приложении
                window.location.href = deepLink;
                
                // Фолбэк через 1 секунду
                setTimeout(() => {
                    if (!document.hidden) {
                        alert("Пожалуйста, откройте ссылку в приложении GGCloud VPN");
                    }
                }, 1000);
            }

            // Автозапуск
            setTimeout(setupVPN, 3000);
        });
    </script>
</head>
<body>
    <div style="text-align: center; padding: 50px;">
        <h2>Идет настройка GGCloud VPN...</h2>
        <p>Пожалуйста, подождите</p>
    </div>
</body>
</html>
